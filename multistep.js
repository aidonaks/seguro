var prpos=document.getElementsByClassName("prpos"),prbar=document.getElementsByClassName("prbar"),formtop=document.getElementsByClassName("formtop"),pagetop=document.getElementsByClassName("pagetop"),formstep1=document.getElementById("formstep1"),formstep2=document.getElementById("formstep2"),formstep3=document.getElementById("formstep3"),formstep4=document.getElementById("formstep4");prpos[0].style.opacity="0",prbar[0].style.opacity="0";var slidehidedelay=200;function scrolltop(e){e.matches?formtop[0].scrollIntoView({behavior:"smooth"}):pagetop[0].scrollIntoView({behavior:"smooth"})}var vw=window.matchMedia("(max-width: 600px)");function MoveTo2(){prpos[0].style.width="25%",setTimeout(function(){prpos[0].innerHTML="25% Done"},500),prpos[0].style.backgroundColor="rgba(179,214,92,0.75)",prbar[0].style.backgroundColor="#F0F9FF",prpos[0].style.opacity="1",prbar[0].style.opacity="1",formstep2.style.display="inline-block",formstep1.style.display="none",scrolltop(vw)}function MoveTo3(){prpos[0].style.width="50%",prpos[0].innerHTML="50% Done",formstep3.style.display="inline-block",formstep2.style.display="none",scrolltop(vw)}function MoveTo4(){prpos[0].style.width="75%",prpos[0].innerHTML="75% Done",formstep4.style.display="inline-block",formstep3.style.display="none",scrolltop(vw)}function MoveBackto1(){prpos[0].style.width="0%",prpos[0].innerHTML="",prpos[0].style.opacity="0",prbar[0].style.opacity="0",formstep1.style.display="inline-block",formstep2.style.display="none"}function MoveBackto2(){prpos[0].style.width="25%",prpos[0].innerHTML="25% Done",formstep2.style.display="inline-block",formstep3.style.display="none"}function MoveBackto3(){prpos[0].style.width="50%",prpos[0].innerHTML="50% Done",formstep3.style.display="inline-block",formstep4.style.display="none"}vw.addListener(scrolltop),function(){var a=document.querySelector("#multistep"),r=a.querySelector("div.reel"),e=a.querySelectorAll("fieldset"),t=a.querySelector("input[name=ad_id]"),n=a.querySelector("input[name=gclid]"),o=a.querySelector("input[name=h]"),l=a.querySelector("input[name=l1]"),i=document.querySelector("input[name=zip]"),s=a.querySelector("select[name=purpose]"),u=a.querySelector("input[name=value]"),d=a.querySelector("input[name=amount]"),c=a.querySelector("select[name=credit]"),p=a.querySelector("input[name=kw]"),y=a.querySelector("input[name=loc]"),m=a.querySelector("input[name=pos]"),v=a.querySelector("input[name=campaign]"),f=a.querySelector("input[name=adgroup]"),b=a.querySelector("input[name=trafficsource]");function S(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}function q(e,t){return!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function h(e,t){q(e,t)||(e.className=(e.className+" "+t).trim())}function x(e,t){if(q(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").trim()}}t.value=S("ad_id"),n.value=S("gclid"),o.value=S("h"),p.value=S("kw"),y.value=S("loc"),m.value=S("pos"),v.value=S("campaign"),f.value=S("adgroup"),l.value=S("l1"),b.value=S("trafficsource"),a.addEventListener("submit",function(e){if(e.preventDefault(),!L())return!1;H[H.length-1].style.display="none",a.querySelector("span.indicator").style.display="block",a.querySelector("button[type=submit]").setAttribute("disabled","true"),a.submit()}),a.addEventListener("keydown",function(e){if(13==e.keyCode||13==e.which)return e.preventDefault(),!1});function g(e){if(13==e.keyCode||13==e.which){if(e.preventDefault(),this==a){if(window.Event)var t=new Event("submit");else(t=document.createEvent("Event")).initEvent("submit",!0,!0);this.dispatchEvent(t)}else"function"==typeof this&&this.call();return!1}}var I=function(){if(5===this.value.length){if(!w())return;var e="https://www.zipcodeapi.com/rest/js-mPjFvc4Zlu0JtZewGO5r8WQoBgW1hfqGT5VtMZwLE5WxUQkcfYbqA0khq9vEjXUA/info.json/"+this.value+"/degrees",o=new XMLHttpRequest;o.open("get",e),o.onreadystatechange=function(){if(200===o.status&&4===o.readyState){var e=JSON.parse(o.responseText);if(e.error_msg)return void console.error("Zip code lookup failed: "+e.error_msg);var t=a.querySelectorAll("span.location");a.querySelector("input[name=city]").value=e.city,a.querySelector("input[name=state]").value=e.state;for(var n=0,r=t.length;n<r;n++)t[n].innerHTML=e.city+", "+e.state}},o.send()}}.bind(i);function w(){return i.value.match(/^[0-9]{5}$/)?(x(i,"invalid"),s.tabIndex=3,a.querySelector("select[name=term]").tabIndex=4,a.querySelector("select[name=ppty]").tabIndex=5,A[1].tabIndex=6,i.setCustomValidity(""),h(a.querySelector("input[name=zip] + div.error"),"hidden"),!0):(h(i,"invalid"),s.tabIndex=-1,a.querySelector("select[name=term]").tabIndex=-1,a.querySelector("select[name=ppty]").tabIndex=-1,A[1].tabIndex=-1,a.querySelector("select[name=use]").tabIndex=-1,a.querySelector("input[name=value]").tabIndex=-1,a.querySelector("input[name=amount]").tabIndex=-1,A[2].tabIndex=-1,c.tabIndex=-1,a.querySelector("select[name=va]").tabIndex=-1,a.querySelector("select[name=bk]").tabIndex=-1,a.querySelector("button[type=submit]").tabIndex=-1,i.setCustomValidity("Please enter a valid zip code."),x(a.querySelector("input[name=zip] + div.error"),"hidden"),i.focus(),!1)}function E(){return 0!=s.selectedIndex?(x(s,"invalid"),a.querySelector("select[name=use]").tabIndex=7,a.querySelector("input[name=value]").tabIndex=8,a.querySelector("input[name=amount]").tabIndex=9,A[2].tabIndex=10,s.setCustomValidity(""),!0):(h(s,"invalid"),a.querySelector("select[name=use]").tabIndex=-1,a.querySelector("input[name=value]").tabIndex=-1,a.querySelector("input[name=amount]").tabIndex=-1,A[2].tabIndex=-1,c.tabIndex=-1,a.querySelector("select[name=va]").tabIndex=-1,a.querySelector("select[name=bk]").tabIndex=-1,a.querySelector("button[type=submit]").tabIndex=-1,s.setCustomValidity("Please select an optionn."),s.focus(),!1)}function k(){return 0<u.value.length?(x(u,"invalid"),u.setCustomValidity(""),h(a.querySelector("input[name=value] + div.error"),"hidden"),!0):(h(u,"invalid"),x(a.querySelector("input[name=value] + div.error"),"hidden"),u.setCustomValidity("Please enter a dollar amount."),u.focus(),!1)}function C(){return 0<d.value.length?(x(d,"invalid"),d.setCustomValidity(""),h(a.querySelector("input[name=amount] + div.error"),"hidden"),!0):(h(d,"invalid"),x(a.querySelector("input[name=amount] + div.error"),"hidden"),d.setCustomValidity("Please enter a dollar amount."),d.focus(),!1)}function L(){return 0!=c.selectedIndex?(x(c,"invalid"),c.setCustomValidity(""),!0):(h(c,"invalid"),c.setCustomValidity("Please select an option."),c.focus(),!1)}i.addEventListener("input",I),s.addEventListener("change",E),u.addEventListener("input",function(){document.activeElement==u&&k()}),d.addEventListener("input",function(){document.activeElement==d&&C()}),c.addEventListener("change",L);var T=1,V=!1;function M(){if(!1===V){V=!0,testimonials&&testimonials.next();var e=parseInt(getComputedStyle(r).getPropertyValue("left")),t=parseInt(getComputedStyle(a).getPropertyValue("width"));T++,r.style.left=e-t+"px";var n=1e3*parseFloat(getComputedStyle(r).getPropertyValue("transition-duration"));setTimeout(function(){for(var e=a.querySelectorAll("*[tabindex]"),t=0,n=e.length;t<n;t++)if(e[t].tabIndex==this.tabIndex+1){e[t].focus(),V=!1;break}}.bind(this),n)}}function P(){w()&&(M.call(A[0]),MoveTo2())}function B(){E()&&(M.call(A[1]),MoveTo3())}function N(){!function(){var e=C();return k()&&e?(c.tabIndex=11,a.querySelector("select[name=va]").tabIndex=12,a.querySelector("select[name=bk]").tabIndex=13,a.querySelector("button[type=submit]").tabIndex=14,!0):(c.tabIndex=-1,a.querySelector("select[name=va]").tabIndex=-1,a.querySelector("select[name=bk]").tabIndex=-1,!(a.querySelector("button[type=submit]").tabIndex=-1))}()||(M.call(A[2]),MoveTo4())}var A=a.querySelectorAll("button.next");function D(){if(!1===V){V=!0,testimonials&&testimonials.prev(),this.blur();var e=parseInt(getComputedStyle(r).getPropertyValue("left")),t=parseInt(getComputedStyle(a).getPropertyValue("width"));T--,r.style.left=e+t+"px";var n=1e3*parseFloat(getComputedStyle(r).getPropertyValue("transition-duration"));setTimeout(function(){V=!1},n)}}A[0].addEventListener("click",function(){setTimeout(P(),slidehidedelay)}),A[1].addEventListener("click",function(){setTimeout(B(),slidehidedelay)}),A[2].addEventListener("click",function(){setTimeout(N(),slidehidedelay)}),e[0].addEventListener("keyup",g.bind(P)),e[1].addEventListener("keyup",g.bind(B)),e[2].addEventListener("keyup",g.bind(N)),e[3].addEventListener("keyup",g.bind(a));for(var H=a.querySelectorAll("button.back"),F=0,z=H.length;F<z;F++){var R=H[F];R.addEventListener("click",function(){setTimeout(D.bind(R),slidehidedelay)})}window.addEventListener("resize",function(){var e=parseInt(getComputedStyle(a).getPropertyValue("width"));r.style.left="-"+(T-1)*e+"px"})}();