if(function(e,s){"use strict";function t(e,t,i){var o=i||{};this.trigger=e,this.elemRef=t,this.rate=o.rate||500,this.el=s[n](c)[0]||"",this.body=this.el?this.el[n]("embed-lightbox-body")[0]:"",this.content=this.el?this.el[n]("embed-lightbox-content")[0]:"",this.href=e[m].src||"",this.paddingBottom=e[m].paddingBottom||"",this.onOpened=o.onOpened,this.onIframeLoaded=o.onIframeLoaded,this.onLoaded=o.onLoaded,this.onCreated=o.onCreated,this.init()}var l="addEventListener",n="getElementsByClassName",o="createElement",a="classList",d="appendChild",m="dataset",c="embed-lightbox-iframe",r="embed-lightbox-is-loaded",i="embed-lightbox-is-opened",b="embed-lightbox-is-showing";t.prototype.init=function(){var t=this;this.el||this.create();var i,o,s,n,a,d,e=(i=function(e){e.preventDefault(),t.open()},o=this.rate,function(){a=this,n=[].slice.call(arguments,0),d=new Date;var t=function(){var e=new Date-d;e<o?s=setTimeout(t,o-e):(s=null,i.apply(a,n))};s=s||setTimeout(t,o)});this.trigger[l]("click",e)},t.prototype.create=function(){var e=this,t=s[o]("div");this.el=s[o]("div"),this.content=s[o]("div"),this.body=s[o]("div"),this.el[a].add(c),t[a].add("embed-lightbox-backdrop"),this.content[a].add("embed-lightbox-content"),this.body[a].add("embed-lightbox-body"),this.el[d](t),this.content[d](this.body),this.contentHolder=s[o]("div"),this.contentHolder[a].add("embed-lightbox-content-holder"),this.contentHolder[d](this.content),this.el[d](this.contentHolder),s.body[d](this.el),t[l]("click",function(){e.close()});function i(){e.isOpen()||(e.el[a].remove(b),e.body.innerHTML="")}this.el[l]("transitionend",i,!1),this.el[l]("webkitTransitionEnd",i,!1),this.el[l]("mozTransitionEnd",i,!1),this.el[l]("msTransitionEnd",i,!1),this.callCallback(this.onCreated,this)},t.prototype.loadIframe=function(){var e,t,i=this;this.iframeId=c+"-"+this.elemRef,this.body.innerHTML='<iframe src="'+this.href+'" name="'+this.iframeId+'" id="'+this.iframeId+'" onload="this.style.opacity=1;" style="opacity:0;border:none;height: 100vh !important" scrolling="no" webkitallowfullscreen="true" mozallowfullscreen="true" allowfullscreen="true" height="166" frameborder="no"></iframe>',e=this.iframeId,t=this.body,s.getElementById(e).onload=function(){this.style.opacity=1,t[a].add(r),i.callCallback(i.onIframeLoaded,i),i.callCallback(i.onLoaded,i)}},t.prototype.open=function(){this.loadIframe(),this.paddingBottom?this.content.style.paddingBottom=this.paddingBottom:this.content.removeAttribute("style"),this.el[a].add(b),this.el[a].add(i),this.callCallback(this.onOpened,this)},t.prototype.close=function(){this.el[a].remove(i),this.body[a].remove(r)},t.prototype.isOpen=function(){return this.el[a].contains(i)},t.prototype.callCallback=function(e,t){"function"==typeof e&&e.bind(this)(t)},e.ReviewsIframeLightbox=t}("undefined"!=typeof window?window:this,document),!document.getElementById("EmbedSocialIFrame")){var jsEmbed=document.createElement("script");document.body?(jsEmbed.id="EmbedSocialIFrame",jsEmbed.src="https://embedsocial.seguroloans.com/cdn/iframe.js",document.body.appendChild(jsEmbed)):(jsEmbed.id="EmbedSocialIFrame",jsEmbed.src="https://embedsocial.seguroloans.com/cdn/iframe.js",document.getElementsByTagName("head")[0].appendChild(jsEmbed))}if(!document.getElementById("EmbedSocialIFrameLightboxCSS")){var cssEmbed=document.createElement("link");cssEmbed.id="EmbedSocialIFrameLightboxCSS",cssEmbed.rel="stylesheet",cssEmbed.href="https://embedsocial.seguroloans.com/cdn/iframe-lightbox.min.css",document.getElementsByTagName("head")[0].appendChild(cssEmbed)}EMBEDSOCIALREVIEWS={getEmbedData:function(e,t){if(t.getElementsByTagName("iframe").length<=0){var i=document.createElement("iframe"),o="https://embedsocial.seguroloans.com/api/reviews/widget/"+e;i.setAttribute("src",o),i.setAttribute("id","embedIFrame_"+e+Math.random().toString(36).substring(7)),i.style.width="100%",i.style.height="100%",i.style.border="0",i.setAttribute("scrolling","no"),i.setAttribute("class","embedsocial-reviews-iframe"),i.setAttribute("title","Facebook and Google reviews by EmbedSocial"),t.appendChild(i),EMBEDSOCIALREVIEWS.initResizeFrame()}},initResizeFrame:function(){document.getElementById("EmbedSocialIFrame")&&"function"==typeof iFrameResize?iFrameResize({messageCallback:function(e){"create"==e.message.action&&EMBEDSOCIALREVIEWS.createLightBox(e.message)}},".embedsocial-reviews-iframe"):setTimeout(EMBEDSOCIALREVIEWS.initResizeFrame,200)},initResizeLightbox:function(e,t){document.getElementById("EmbedSocialIFrame")&&"function"==typeof iFrameResize?"slider"!=t?iFrameResize({messageCallback:function(e){"close"==e.message.action&&EMBEDSOCIALREVIEWS.closeLightBox(e.message.reviewsRef)},sizeHeight:!1},"#embed-lightbox-iframe-"+e):iFrameResize({messageCallback:function(e){"close"==e.message.action&&EMBEDSOCIALREVIEWS.closeLightBox(e.message.reviewsRef)}},"#embed-lightbox-iframe-"+e):setTimeout(function(){EMBEDSOCIALREVIEWS.initResizeLightbox(e,t)},200)},createLightBox:function(i){var e=1;i.page&&(e=i.page);var t="https://embedsocial.seguroloans.com/api/get_lightbox_reviews/"+i.reviewsRef+"/"+i.index+"/"+e;if(i.src&&(t=i.src),document.getElementById("embed-lightbox-"+i.reviewsRef))(o=document.getElementById("embed-lightbox-"+i.reviewsRef)).setAttribute("data-src",t),o.innerHTML="";else{var o=document.createElement("a");o.setAttribute("class","embedsocail-iframe-lightbox-link"),o.setAttribute("id","embed-lightbox-"+i.reviewsRef),o.setAttribute("data-src",t),document.body.appendChild(o)}var s="slider";i.type&&(s=i.type),[].forEach.call(document.getElementsByClassName("embedsocail-iframe-lightbox-link"),function(e){e.lightbox=new ReviewsIframeLightbox(e,i.reviewsRef,{onLoaded:function(e){if(EMBEDSOCIALREVIEWS.initResizeLightbox(i.reviewsRef,s),"collect"==s){function t(){var e=window.innerHeight||document.documentElement.clientHeight;1800<e&&(e=1800),document.getElementById("embed-lightbox-iframe-"+i.reviewsRef).style.height=parseInt(.9*e)+"px"}t(),window.addEventListener("resize",t)}}})}),i.type&&([].forEach.call(document.getElementsByClassName("embed-lightbox-iframe"),function(e){e.className="embed-lightbox-iframe embed-lightbox-iframe-"+i.type}),[].forEach.call(document.getElementsByClassName("embed-lightbox-backdrop"),function(e){e.className="embed-lightbox-backdrop embed-lightbox-"+i.type})),EMBEDSOCIALREVIEWS.openLightBox(i.reviewsRef)},openLightBox:function(t){document.getElementById("embed-lightbox-"+t).click(),document.getElementsByClassName("embed-lightbox-body")[0].addEventListener("click",function(e){(e.target||e.srcElement).classList.contains("embed-lightbox-is-loaded")&&EMBEDSOCIALREVIEWS.closeLightBox(t)}),document.addEventListener("keydown",function(e){e=window.event?window.event:el,document.getElementById("embed-lightbox-iframe-"+t)&&-1<[37,39,27].indexOf(e.keyCode)&&EMBEDSOCIALREVIEWS.navigationLightBox(t,e.keyCode)})},closeLightBox:function(e){document.getElementsByClassName("embed-lightbox-backdrop")[0].click(),[].forEach.call(document.getElementsByClassName("embed-lightbox-body"),function(e){e.className="embed-lightbox-body"})},navigationLightBox:function(e,t){document.getElementById("embed-lightbox-iframe-"+e).iFrameResizer.sendMessage({navigationCode:t})}};var embedsocialAlbumsReviews=document.getElementsByClassName("embedsocial-reviews");for(i=0;i<embedsocialAlbumsReviews.length;i++){var embedsocialAlbumReviewsRef=embedsocialAlbumsReviews[i].getAttribute("data-ref");EMBEDSOCIALREVIEWS.getEmbedData(embedsocialAlbumReviewsRef,embedsocialAlbumsReviews[i])}window.addEventListener("load",function(){var e=document.getElementsByClassName("embedsocial-reviews");for(i=0;i<e.length;i++){var t=e[i].getAttribute("data-ref");EMBEDSOCIALREVIEWS.getEmbedData(t,e[i])}});